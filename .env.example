# LLM Server Monitoring System Environment Configuration
# Copy this file to .env and update values as needed

# ===== Core Service Ports =====
# These ports are used for accessing the monitoring services
PROMETHEUS_PORT=23001              # Prometheus metrics server port
GRAFANA_PORT=23000                 # Grafana dashboard port
LOKI_PORT=23002                    # Loki log aggregation port

# ===== Grafana Configuration =====
# Admin credentials for initial setup
GRAFANA_ADMIN_USER=admin           # Default admin username
GRAFANA_ADMIN_PASSWORD=admin       # CHANGE THIS in production
GRAFANA_ROOT_URL=http://localhost:23000  # External URL for Grafana
GRAFANA_PLUGINS=                   # Comma-separated list of plugins to install

# ===== Prometheus Configuration =====
# Data retention and storage settings
PROMETHEUS_RETENTION=30d           # How long to keep metrics data
PROMETHEUS_SCRAPE_INTERVAL=30s     # Default scrape interval
PROMETHEUS_EVALUATION_INTERVAL=30s # Rule evaluation interval

# ===== Loki Configuration =====
# Log retention and limits
LOKI_RETENTION_PERIOD=720h         # 30 days log retention
LOKI_MAX_QUERY_LENGTH=720h         # Maximum query time range
LOKI_INGESTION_RATE_LIMIT=10MB     # Per-tenant ingestion rate limit
LOKI_INGESTION_BURST_LIMIT=20MB    # Per-tenant burst limit

# ===== Docker Configuration =====
# Container resource limits (production only)
DOCKER_CPU_LIMIT=4                 # CPU cores limit
DOCKER_MEMORY_LIMIT=8G             # Memory limit

# ===== Exporter Configuration =====
# Common settings for all exporters
EXPORTER_LOG_LEVEL=info            # Log level (debug, info, warn, error)
EXPORTER_METRICS_PATH=/metrics     # Metrics endpoint path
EXPORTER_HEALTH_PATH=/health       # Health check endpoint
EXPORTER_READY_PATH=/ready         # Readiness check endpoint

# ===== GPU Monitoring =====
# NVIDIA GPU monitoring settings
NVIDIA_VISIBLE_DEVICES=all         # GPUs to monitor (all, 0, 1, etc.)
DCGM_EXPORTER_PORT=9400           # NVIDIA DCGM exporter port
GPU_METRICS_ENABLED=true           # Enable GPU monitoring

# ===== LLM Service Integration =====
# LiteLLM configuration
LITELLM_API_URL=http://litellm:8000  # LiteLLM API endpoint
LITELLM_API_KEY=                     # LiteLLM API key (if required)
LITELLM_METRICS_ENABLED=true         # Enable LiteLLM metrics collection

# vLLM configuration
VLLM_CONTAINER_PREFIX=vllm           # Docker container name prefix for vLLM
VLLM_METRICS_ENABLED=true            # Enable vLLM metrics collection
VLLM_DISCOVERY_INTERVAL=60s          # Container discovery interval

# LangFuse configuration
LANGFUSE_API_URL=http://langfuse:3000  # LangFuse API endpoint
LANGFUSE_PUBLIC_KEY=                    # LangFuse public key
LANGFUSE_SECRET_KEY=                    # LangFuse secret key
LANGFUSE_METRICS_ENABLED=true           # Enable LangFuse metrics

# ===== Mock Data Configuration =====
# Settings for mock data generation (development/testing)
MOCK_MODE=full                      # Mock mode (full, partial, disabled)
MOCK_SCENARIO=normal                # Scenario (normal, high-load, degraded, failure)
MOCK_UPDATE_INTERVAL=30             # Mock data update interval in seconds

# ===== Security Configuration =====
# Authentication and security settings
AUTH_ENABLED=false                  # Enable authentication (set true in production)
AUTH_TOKEN_SECRET=                  # JWT secret for token generation
AUTH_SESSION_TIMEOUT=24h            # Session timeout duration

# ===== Network Configuration =====
# Internal network settings
MONITORING_NETWORK_SUBNET=172.28.0.0/16  # Docker network subnet
INTERNAL_ONLY=true                       # Restrict to internal network only

# ===== Development Settings =====
# Settings specific to development environment
DEV_MODE=false                      # Enable development mode
DEV_AUTO_RELOAD=true               # Auto-reload on config changes
DEV_VERBOSE_LOGGING=false          # Enable verbose logging

# ===== Backup Configuration =====
# Dashboard and configuration backup settings
BACKUP_ENABLED=false               # Enable automatic backups
BACKUP_INTERVAL=daily              # Backup interval (hourly, daily, weekly)
BACKUP_RETENTION_DAYS=30           # Days to retain backups
BACKUP_PATH=/backups               # Backup storage path